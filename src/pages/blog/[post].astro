---
import DefaultLayout from '@/layouts/DefaultLayout.astro'
import type { Post } from '@/types/blog'

export const getStaticPaths = async () => {
  const response = await fetch('https://jsonplaceholder.typicode.com/posts')
  const data: Post[] = await response.json()

  return data.map((post) => {
    return {
      params: { post: post.title.replaceAll(' ', '-').toLowerCase() },
      props: { post },
    }
  })
}

const { post } = Astro.props
---

<DefaultLayout>
  <h1>{post.title}</h1>
  <p class="auhor">執筆者：{post.userId}</p>

  <article class="body">
    {post.body}
  </article>

  <p class="back"><a href="/blog">記事一覧に戻る</a></p>
</DefaultLayout>
